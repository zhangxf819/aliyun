<!DOCTYPE html>
<html>
  <!-- Html Head Tag-->
  <head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="xiaofeng">
  <!-- Open Graph Data -->
  <meta property="og:title" content="AngularJS"/>
  <meta property="og:description" content="" />
  <meta property="og:site_name" content="晓峰"/>
  <meta property="og:type" content="article" />
  <meta property="og:image" content="http://yoursite.comundefined"/>
  
    <link rel="alternate" href="/atom.xml" title="晓峰" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  

  <!-- Site Title -->
  <title>晓峰</title>

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="/aliyun/css/bootstrap.min.css">
  <!-- Custom CSS -->
  
  <link rel="stylesheet" href="/aliyun/css/style.light.css">

  <!-- Google Analytics -->
  

</head>

  <body>
    <!-- Page Header -->


<header class="site-header header-background" style="background-image: url(/aliyun/img/default-banner-dark.jpg)">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <div class="page-title with-background-image">
          <p class="title">AngularJS</p>
          <p class="subtitle"></p>
        </div>
        <div class="site-menu with-background-image">
          <ul>
            
              <li>
                <a href="/aliyun/">
                  
                  主页
                  
                </a>
              </li>
            
              <li>
                <a href="/aliyun/archives">
                  
                  归档
                  
                </a>
              </li>
            
              <li>
                <a href="https://github.com/zhangxf819">
                  
                  Github
                  
                </a>
              </li>
            
              <li>
                <a href="/aliyun/m18903866102@163.com">
                  
                  Email
                  
                </a>
              </li>
            
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>


<article>
  <div class="container typo">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <div class="post-info text-muted">
          
            <!-- Author -->
            <span class="author info">By xiaofeng</span>
          
          <!-- Date -->
          <span class="date-time info">On
            <span class="date">2016-02-20</span>
            <span class="time">09:17:05</span>
          </span>
          
        </div>
        <!-- Tags -->
        
        <!-- Post Main Content -->
        <div class="post-content">
          <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div><div class="line">223</div><div class="line">224</div><div class="line">225</div><div class="line">226</div><div class="line">227</div><div class="line">228</div><div class="line">229</div><div class="line">230</div><div class="line">231</div><div class="line">232</div><div class="line">233</div><div class="line">234</div><div class="line">235</div><div class="line">236</div><div class="line">237</div><div class="line">238</div><div class="line">239</div><div class="line">240</div><div class="line">241</div><div class="line">242</div><div class="line">243</div><div class="line">244</div><div class="line">245</div><div class="line">246</div><div class="line">247</div><div class="line">248</div><div class="line">249</div><div class="line">250</div><div class="line">251</div><div class="line">252</div><div class="line">253</div><div class="line">254</div><div class="line">255</div><div class="line">256</div><div class="line">257</div><div class="line">258</div><div class="line">259</div><div class="line">260</div><div class="line">261</div><div class="line">262</div><div class="line">263</div><div class="line">264</div><div class="line">265</div><div class="line">266</div><div class="line">267</div><div class="line">268</div><div class="line">269</div><div class="line">270</div><div class="line">271</div><div class="line">272</div><div class="line">273</div><div class="line">274</div><div class="line">275</div><div class="line">276</div><div class="line">277</div><div class="line">278</div><div class="line">279</div><div class="line">280</div><div class="line">281</div><div class="line">282</div><div class="line">283</div><div class="line">284</div><div class="line">285</div><div class="line">286</div><div class="line">287</div><div class="line">288</div><div class="line">289</div><div class="line">290</div><div class="line">291</div><div class="line">292</div><div class="line">293</div><div class="line">294</div><div class="line">295</div><div class="line">296</div><div class="line">297</div><div class="line">298</div><div class="line">299</div><div class="line">300</div><div class="line">301</div><div class="line">302</div><div class="line">303</div><div class="line">304</div><div class="line">305</div><div class="line">306</div><div class="line">307</div><div class="line">308</div><div class="line">309</div><div class="line">310</div><div class="line">311</div><div class="line">312</div><div class="line">313</div><div class="line">314</div><div class="line">315</div><div class="line">316</div><div class="line">317</div><div class="line">318</div><div class="line">319</div><div class="line">320</div><div class="line">321</div><div class="line">322</div><div class="line">323</div><div class="line">324</div><div class="line">325</div><div class="line">326</div><div class="line">327</div><div class="line">328</div><div class="line">329</div><div class="line">330</div><div class="line">331</div><div class="line">332</div><div class="line">333</div><div class="line">334</div><div class="line">335</div><div class="line">336</div><div class="line">337</div><div class="line">338</div><div class="line">339</div><div class="line">340</div><div class="line">341</div><div class="line">342</div><div class="line">343</div><div class="line">344</div><div class="line">345</div><div class="line">346</div><div class="line">347</div><div class="line">348</div><div class="line">349</div><div class="line">350</div><div class="line">351</div><div class="line">352</div><div class="line">353</div><div class="line">354</div><div class="line">355</div><div class="line">356</div><div class="line">357</div><div class="line">358</div><div class="line">359</div><div class="line">360</div><div class="line">361</div><div class="line">362</div><div class="line">363</div><div class="line">364</div><div class="line">365</div><div class="line">366</div><div class="line">367</div><div class="line">368</div><div class="line">369</div><div class="line">370</div><div class="line">371</div><div class="line">372</div><div class="line">373</div><div class="line">374</div><div class="line">375</div><div class="line">376</div><div class="line">377</div><div class="line">378</div><div class="line">379</div><div class="line">380</div><div class="line">381</div><div class="line">382</div><div class="line">383</div><div class="line">384</div><div class="line">385</div><div class="line">386</div><div class="line">387</div><div class="line">388</div><div class="line">389</div><div class="line">390</div><div class="line">391</div><div class="line">392</div><div class="line">393</div><div class="line">394</div><div class="line">395</div><div class="line">396</div><div class="line">397</div><div class="line">398</div><div class="line">399</div><div class="line">400</div><div class="line">401</div><div class="line">402</div><div class="line">403</div><div class="line">404</div><div class="line">405</div><div class="line">406</div><div class="line">407</div><div class="line">408</div><div class="line">409</div><div class="line">410</div><div class="line">411</div><div class="line">412</div><div class="line">413</div><div class="line">414</div><div class="line">415</div><div class="line">416</div><div class="line">417</div><div class="line">418</div><div class="line">419</div><div class="line">420</div><div class="line">421</div><div class="line">422</div><div class="line">423</div><div class="line">424</div><div class="line">425</div><div class="line">426</div><div class="line">427</div><div class="line">428</div><div class="line">429</div><div class="line">430</div><div class="line">431</div><div class="line">432</div><div class="line">433</div><div class="line">434</div><div class="line">435</div><div class="line">436</div><div class="line">437</div><div class="line">438</div><div class="line">439</div><div class="line">440</div><div class="line">441</div><div class="line">442</div><div class="line">443</div><div class="line">444</div><div class="line">445</div><div class="line">446</div><div class="line">447</div><div class="line">448</div><div class="line">449</div><div class="line">450</div><div class="line">451</div><div class="line">452</div><div class="line">453</div><div class="line">454</div><div class="line">455</div><div class="line">456</div><div class="line">457</div><div class="line">458</div><div class="line">459</div><div class="line">460</div><div class="line">461</div><div class="line">462</div><div class="line">463</div><div class="line">464</div><div class="line">465</div><div class="line">466</div><div class="line">467</div><div class="line">468</div><div class="line">469</div><div class="line">470</div><div class="line">471</div><div class="line">472</div></pre></td><td class="code"><pre><div class="line">$scope.style = &#123;color:&apos;red&apos;&#125;;　</div><div class="line">&lt;div ng-style=&quot;&#123;color:&apos;red&apos;&#125;&quot;&gt;ng-style测试&lt;/div&gt;</div><div class="line">&lt;div ng-style=&quot;style&quot;&gt;ng-style测试&lt;/div&gt;</div><div class="line">ng-show、ng-hide、ng-switch</div><div class="line">对于比较常用的元素显隐控制，ng 也做了封装，ng-show 和 ng-hide 的值为 boolean 类型的表达式，当值为 true 时，对应的 show 或 hide 生效。框架会用 display:block 和 display:none 来控制元素的显隐。</div><div class="line">示例：</div><div class="line">&lt;div ng-app=&quot;&quot;&gt;</div><div class="line">	&lt;div ng-show=&quot;true&quot;&gt;1&lt;/div&gt;</div><div class="line">	&lt;div ng-show=&quot;false&quot;&gt;2&lt;/div&gt;</div><div class="line">	&lt;div ng-hide=&quot;true&quot;&gt;3&lt;/div&gt;</div><div class="line">	&lt;div ng-hide=&quot;false&quot;&gt;4&lt;/div&gt;</div><div class="line">&lt;/div&gt;</div><div class="line">后一个 ng-switch 是根据一个值来决定哪个节点显示，其它节点移除：</div><div class="line"></div><div class="line">&lt;div ng-init=&quot;a=2&quot;&gt;</div><div class="line">    &lt;ul ng-switch on=&quot;a&quot;&gt;</div><div class="line">	    &lt;li ng-switch-when=&quot;1&quot;&gt;1&lt;/li&gt;</div><div class="line">	    &lt;li ng-switch-when=&quot;2&quot;&gt;2&lt;/li&gt;</div><div class="line">	    &lt;li ng-switch-default&gt;other&lt;/li&gt;</div><div class="line">    &lt;/ul&gt;</div><div class="line">&lt;/div&gt;</div><div class="line"></div><div class="line">事件指令</div><div class="line"></div><div class="line">事件相关的指令有：</div><div class="line"></div><div class="line">ng-change</div><div class="line">ng-click</div><div class="line">ng-dblclick</div><div class="line">ng-mousedown</div><div class="line">ng-mouseenter</div><div class="line">ng-mouseleave</div><div class="line">ng-mousemove</div><div class="line">ng-mouseover</div><div class="line">ng-mouseup</div><div class="line">ng-submit</div><div class="line">对于事件对象本身，在函数调用时可以直接使用 $event 进行传递：</div><div class="line"></div><div class="line">&lt;p ng-click=&quot;click($event)&quot;&gt;点击&lt;/p&gt;</div><div class="line">&lt;p ng-click=&quot;click($event.target)&quot;&gt;点击&lt;/p&gt;</div><div class="line"></div><div class="line">$scope.click = function($event)&#123;</div><div class="line">         alert($event.target);</div><div class="line">         //……………………</div><div class="line">&#125;　　</div><div class="line">表单指令</div><div class="line"></div><div class="line">表单控件类的模板指令，最大的作用是它预定义了需要绑定的数据的格式。这样，就可以对于既定的数据进行既定的处理。</div><div class="line"></div><div class="line">form</div><div class="line"></div><div class="line">ng 对 form 这个标签作了包装，对应的指令是 ng-form。</div><div class="line"></div><div class="line">从 ng 的角度来说， form 标签，是一个模板指令，也创建了一个 FormController 的实例。这个实例就提供了相应的属性和方法。同时，它里面的控件也是一个 NgModelController 实例。</div><div class="line"></div><div class="line">很重要的一点， form 的相关方法要生效，必须为 form 标签指定 name 和 ng-controller ，并且每个控件都要绑定一个变量。 form 和控件的名字，即是 $scope 中的相关实例的引用变量名。</div><div class="line"></div><div class="line">&lt;form name=&quot;test_form&quot; ng-controller=&quot;TestCtrl&quot;&gt;</div><div class="line">  &lt;input type=&quot;text&quot; name=&quot;a&quot; required ng-model=&quot;a&quot;  /&gt;</div><div class="line">  &lt;span ng-click=&quot;see()&quot;&gt;&lt;/span&gt;</div><div class="line">&lt;/form&gt;</div><div class="line"></div><div class="line">var TestCtrl = function($scope)&#123;</div><div class="line">  $scope.see = function()&#123;</div><div class="line">    console.log($scope.test_form);</div><div class="line">    console.log($scope.test_form.a);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line">除去对象的方法与属性， form 这个标签本身有一些动态类可以使用：</div><div class="line"></div><div class="line">ng-valid 当表单验证通过时的设置</div><div class="line">ng-invalid 当表单验证失败时的设置</div><div class="line">ng-pristine 表单的未被动之前拥有</div><div class="line">ng-dirty 表单被动过之后拥有</div><div class="line">form 对象的属性有：</div><div class="line"></div><div class="line">$pristine 表单是否未被动过</div><div class="line">$dirty 表单是否被动过</div><div class="line">$valid 表单是否验证通过</div><div class="line">$invalid 表单是否验证失败</div><div class="line">$error 表单的验证错误</div><div class="line">其中的 $error 对象包含有所有字段的验证信息，及对相关字段的 NgModelController 实例的引用。它的结构是一个对象， key 是失败信息， required ， minlength 之类的， value 是对应的字段实例列表。</div><div class="line"></div><div class="line">input</div><div class="line"></div><div class="line">input 控件的相关可用属性为：</div><div class="line"></div><div class="line">name 名字</div><div class="line">ng-model 绑定的数据</div><div class="line">required 是否必填</div><div class="line">ng-required 是否必填</div><div class="line">ng-minlength 最小长度</div><div class="line">ng-maxlength 最大长度</div><div class="line">ng-pattern 匹配模式</div><div class="line">ng-change 值变化时的回调</div><div class="line">&lt;form name=&quot;test_form&quot; ng-controller=&quot;TestCtrl&quot;&gt;</div><div class="line">  &lt;input type=&quot;text&quot; name=&quot;a&quot; ng-model=&quot;a&quot; required ng-pattern=&quot;/abc/&quot; /&gt;</div><div class="line">  &lt;span ng-click=&quot;see()&quot;&gt;&lt;/span&gt;</div><div class="line">&lt;/form&gt;</div><div class="line">input 控件，它还有一些扩展，这些扩展有些有自己的属性：</div><div class="line"></div><div class="line">input type=&quot;number&quot; 多了 number 错误类型，多了 max ， min 属性。</div><div class="line">input type=&quot;url&quot; 多了 url 错误类型。</div><div class="line">input type=&quot;email&quot; 多了 email 错误类型。</div><div class="line">checkbox</div><div class="line"></div><div class="line">是 input 的扩展，不过，它没有验证相关的东西，只有选中与不选中两个值：ng-true-value、ng-false-value:</div><div class="line"></div><div class="line">&lt;form name=&quot;test_form&quot; ng-controller=&quot;TestCtrl&quot;&gt;</div><div class="line">  &lt;input type=&quot;checkbox&quot; name=&quot;a&quot; ng-model=&quot;a&quot; ng-true-value=&quot;AA&quot; ng-false-value=&quot;BB&quot; /&gt;</div><div class="line">  &lt;span&gt;&lt;/span&gt;</div><div class="line">&lt;/form&gt;</div><div class="line">radio</div><div class="line"></div><div class="line">也是 input 的扩展。和 checkbox 一样，但它只有一个值：</div><div class="line"></div><div class="line">&lt;form name=&quot;test_form&quot; ng-controller=&quot;TestCtrl&quot;&gt;</div><div class="line">  &lt;input type=&quot;radio&quot; name=&quot;a&quot; ng-model=&quot;a&quot; value=&quot;AA&quot; /&gt;</div><div class="line">  &lt;input type=&quot;radio&quot; name=&quot;a&quot; ng-model=&quot;a&quot; value=&quot;BB&quot; /&gt;</div><div class="line">  &lt;span&gt;&lt;/span&gt;</div><div class="line">&lt;/form&gt;</div><div class="line">textarea</div><div class="line"></div><div class="line">同 input</div><div class="line"></div><div class="line">select</div><div class="line"></div><div class="line">它里面的一个叫做 ng-options 的属性用于数据呈现。</div><div class="line"></div><div class="line">&lt;form name=&quot;test_form&quot; ng-controller=&quot;TestCtrl&quot; ng-init=&quot;o=[0,1,2,3]; a=o[1];&quot;&gt;</div><div class="line">    &lt;select ng-model=&quot;a&quot; ng-options=&quot;x for x in o&quot;&gt;</div><div class="line">      &lt;option value=&quot;&quot;&gt;可以加这个空值&lt;/option&gt;</div><div class="line">    &lt;/select&gt;</div><div class="line">&lt;/form&gt;</div><div class="line">在 $scope 中， select 绑定的变量，其值和普通的 value 无关，可以是一个对象：</div><div class="line"></div><div class="line">&lt;form name=&quot;test_form&quot; ng-controller=&quot;TestCtrl&quot;</div><div class="line">    ng-init=&quot;o=[&#123;name: &apos;AA&apos;&#125;, &#123;name: &apos;BB&apos;&#125;]; a=o[1];&quot;&gt;</div><div class="line">    &lt;select ng-model=&quot;a&quot; ng-options=&quot;x.name for x in o&quot; /&gt;</div><div class="line">&lt;/form&gt;</div><div class="line">显示与值分别指定， x.v as x.name for x in o ：</div><div class="line"></div><div class="line">&lt;form name=&quot;test_form&quot; ng-controller=&quot;TestCtrl&quot;</div><div class="line">    ng-init=&quot;o=[&#123;name: &apos;AA&apos;, v: &apos;00&apos;&#125;, &#123;name: &apos;BB&apos;, v: &apos;11&apos;&#125;]; a=o[1].v;&quot;&gt;</div><div class="line">    &lt;select ng-model=&quot;a&quot; ng-options=&quot;x.v as x.name for x in o&quot; /&gt;</div><div class="line">&lt;/form&gt;</div><div class="line">加入分组的， x.name group by x.g for x in o ：</div><div class="line"></div><div class="line">&lt;form name=&quot;test_form&quot; ng-controller=&quot;TestCtrl&quot;</div><div class="line">    ng-init=&quot;o=[&#123;name: &apos;AA&apos;, g: &apos;00&apos;&#125;, &#123;name: &apos;BB&apos;, g: &apos;11&apos;&#125;, &#123;name: &apos;CC&apos;, g: &apos;00&apos;&#125;]; a=o[1];&quot;&gt;</div><div class="line">    &lt;select ng-model=&quot;a&quot; ng-options=&quot;x.name group by x.g for x in o&quot; /&gt;</div><div class="line">&lt;/form&gt;</div><div class="line">分组了还分别指定显示与值的， x.v as x.name group by x.g for x in o ：</div><div class="line"></div><div class="line">&lt;form name=&quot;test_form&quot; ng-controller=&quot;TestCtrl&quot; ng-init=&quot;o=[&#123;name: &apos;AA&apos;, g: &apos;00&apos;, v: &apos;=&apos;&#125;, &#123;name: &apos;BB&apos;, g: &apos;11&apos;, v: &apos;+&apos;&#125;, &#123;name: &apos;CC&apos;, g: &apos;00&apos;, v: &apos;!&apos;&#125;]; a=o[1].v;&quot;&gt;</div><div class="line">    &lt;select ng-model=&quot;a&quot; ng-options=&quot;x.v as x.name group by x.g for x in o&quot; /&gt;</div><div class="line">&lt;/form&gt;</div><div class="line">如果参数是对象的话，基本也是一样的，只是把遍历的对象改成 (key, value) ：</div><div class="line"></div><div class="line">&lt;form name=&quot;test_form&quot; ng-controller=&quot;TestCtrl&quot; ng-init=&quot;o=&#123;a: 0, b: 1&#125;; a=o.a;&quot;&gt;</div><div class="line">	&lt;select ng-model=&quot;a&quot; ng-options=&quot;k for (k, v) in o&quot; /&gt;</div><div class="line">&lt;/form&gt;</div><div class="line">&lt;form name=&quot;test_form&quot; ng-controller=&quot;TestCtrl&quot;</div><div class="line">	ng-init=&quot;o=&#123;a: &#123;name: &apos;AA&apos;, v: &apos;00&apos;&#125;, b: &#123;name: &apos;BB&apos;, v: &apos;11&apos;&#125;&#125;; a=o.a.v;&quot;&gt;</div><div class="line">	&lt;select ng-model=&quot;a&quot; ng-options=&quot;v.v as v.name for (k, v) in o&quot; /&gt;</div><div class="line">&lt;/form&gt;</div><div class="line">&lt;form name=&quot;test_form&quot; ng-controller=&quot;TestCtrl&quot;</div><div class="line">	ng-init=&quot;o=&#123;a: &#123;name: &apos;AA&apos;, v: &apos;00&apos;, g: &apos;==&apos;&#125;, b: &#123;name: &apos;BB&apos;, v: &apos;11&apos;, g: &apos;==&apos;&#125;&#125;; a=o.a;&quot;&gt;</div><div class="line">	&lt;select ng-model=&quot;a&quot; ng-options=&quot;v.name group by v.g for (k, v) in o&quot; /&gt;</div><div class="line">&lt;/form&gt;</div><div class="line">&lt;form name=&quot;test_form&quot; ng-controller=&quot;TestCtrl&quot;</div><div class="line">	ng-init=&quot;o=&#123;a: &#123;name: &apos;AA&apos;, v: &apos;00&apos;, g: &apos;==&apos;&#125;, b: &#123;name: &apos;BB&apos;, v: &apos;11&apos;, g: &apos;==&apos;&#125;&#125;; a=o.a.v;&quot;&gt;</div><div class="line">	&lt;select ng-model=&quot;a&quot; ng-options=&quot;v.v as v.name group by v.g for (k, v) in o&quot; /&gt;</div><div class="line">&lt;/form&gt;</div><div class="line"></div><div class="line">还有一些表单控件功能相关的指令：</div><div class="line"></div><div class="line">ng-src src 属性</div><div class="line">ng-href href 属性</div><div class="line">ng-checked 控制 radio 和 checkbox 的选中状态</div><div class="line">ng-selected 控制下拉框的选中状态</div><div class="line">ng-disabled 控制失效状态</div><div class="line">ng-multiple 控制多选</div><div class="line">ng-readonly 控制只读状态</div><div class="line">以上指令的取值均为 boolean 类型，当值为 true 时相关状态生效，道理比较简单就不多做解释。</div><div class="line"></div><div class="line">注意：上面的这些只是单向绑定，即只是从数据到模板，不能反作用于数据。要双向绑定，还是要使用 ng-model </div><div class="line"></div><div class="line"></div><div class="line">##   AngularJS 过滤器</div><div class="line"></div><div class="line">过滤器（filter）正如其名，作用就是接收一个输入，通过某个规则进行处理，然后返回处理后的结果。主要用在数据的格式化上，例如获取一个数组中的子集，对数组中的元素进行排序等。过滤器通常是伴随标记来使用的，将你 model 中的数据格式化为需要的格式。表单的控制功能主要涉及到数据验证以及表单控件的增强。</div><div class="line"></div><div class="line">内置过滤器</div><div class="line"></div><div class="line">ng 内置了一些过滤器，它们是：currency(货币)、date(日期)、filter(子串匹配)、json(格式化json对象)、limitTo(限制个数)、lowercase(小写)、uppercase(大写)、number(数字)、orderBy(排序)。</div><div class="line"></div><div class="line">过滤器使用示例：</div><div class="line"></div><div class="line">// 使用currency可以将数字格式化为货币，默认是美元符号，你可以自己传入所需的符号</div><div class="line">&#123;&#123;num | currency : &apos;￥&apos;&#125;&#125;</div><div class="line"></div><div class="line">// 参数用来指定所要的格式，y M d h m s E 分别表示 年 月 日 时 分 秒 星期，你可以自由组合它们。也可以使用不同的个数来限制格式化的位数。另外参数也可以使用特定的描述性字符串，例如“shortTime”将会把时间格式为12:05 pm这样的。</div><div class="line">&#123;&#123;date | date : &apos;yyyy-MM-dd hh:mm:ss EEEE&apos;&#125;&#125;</div><div class="line"></div><div class="line">$scope.func = function(e)&#123;return e.age&gt;4;&#125;&#123;&#123; childrenArray | filter : &apos;a&apos; &#125;&#125;</div><div class="line"></div><div class="line">// filter 过滤器从数组中选择一个子集：</div><div class="line">&#123;&#123; childrenArray | filter : &apos;a&apos; &#125;&#125; //匹配属性值中含有a的</div><div class="line">&#123;&#123; childrenArray | filter : 4 &#125;&#125;  //匹配属性值中含有4的</div><div class="line">&#123;&#123; childrenArray | filter : &#123;name : &apos;i&apos;&#125; &#125;&#125; //参数是对象，匹配name属性中含有i的</div><div class="line">&#123;&#123;childrenArray | filter : func &#125;&#125;  //参数是函数　</div><div class="line"></div><div class="line">// json过滤器可以把一个js对象格式化为json字符串</div><div class="line">&#123;&#123; jsonTest | json&#125;&#125;</div><div class="line"></div><div class="line">// 列表截取 limitTo ，支持正负数</div><div class="line">&#123;&#123; childrenArray | limitTo : 2 &#125;&#125; </div><div class="line"></div><div class="line">// number过滤器可以为一个数字加上千位分割，像这样，123,456,789。同时接收一个参数，可以指定float类型保留几位小数：</div><div class="line">&#123;&#123; num | number : 2 &#125;&#125;</div><div class="line"></div><div class="line">// 大小写 lowercase ， uppercase ：</div><div class="line">&#123;&#123; &apos;abc&apos; | uppercase &#125;&#125;</div><div class="line">&#123;&#123; &apos;Abc&apos; | lowercase &#125;&#125;</div><div class="line"></div><div class="line"></div><div class="line">&#123;&#123; childrenArray | orderBy : &apos;age&apos; &#125;&#125;       //按age属性值进行排序，若是-age，则倒序</div><div class="line">&#123;&#123; childrenArray | orderBy : orderFunc &#125;&#125;   //按照函数的返回值进行排序</div><div class="line">&#123;&#123; childrenArray | orderBy : [&apos;age&apos;,&apos;name&apos;] &#125;&#125;  //如果age相同，按照name进行排序</div><div class="line">过滤器使用方式</div><div class="line"></div><div class="line">在模块中定义过滤器：</div><div class="line"></div><div class="line">var app = angular.module(&apos;Demo&apos;, [], angular.noop);</div><div class="line">  app.filter(&apos;map&apos;, function()&#123;</div><div class="line">    var filter = function(input)&#123;</div><div class="line">      return input + &apos;...&apos;;</div><div class="line">    &#125;;</div><div class="line">    return filter;</div><div class="line">  &#125;);</div><div class="line">然后，在模板中使用：</div><div class="line"></div><div class="line">&lt;p&gt;示例数据: &#123;&#123; a | map &#125;&#125;&lt;/p&gt;</div><div class="line"></div><div class="line">##  AngularJS Ajax</div><div class="line"></div><div class="line">$http 服务是 AngularJS 的核心服务之一，它帮助我们通过 XMLHttpRequest 对象或 JSONP 与远程 HTTP 服务进行交流。</div><div class="line"></div><div class="line">$http 服务是这样一个函数：它接受一个设置对象，其中指定了如何创建 HTTP 请求；它将返回一个 promise 对象，其中提供两个方法： success 方法和 error方法。</div><div class="line"></div><div class="line">$http.get(&#123;url:&quot;/xxx.action&quot;&#125;).success(function(data)&#123;</div><div class="line">    alert(data);</div><div class="line">&#125;).error(function()&#123;</div><div class="line">    alert(&quot;error&quot;);</div><div class="line">&#125;);</div><div class="line">$http 接受的配置项有：</div><div class="line"></div><div class="line">method 方法</div><div class="line">url 路径</div><div class="line">params GET请求的参数</div><div class="line">data post请求的参数</div><div class="line">headers 头</div><div class="line">transformRequest 请求预处理函数</div><div class="line">transformResponse 响应预处理函数</div><div class="line">cache 缓存</div><div class="line">timeout 超时毫秒，超时的请求会被取消</div><div class="line">withCredentials 跨域安全策略的一个东西</div><div class="line">其中的 transformRequest 和 transformResponse 及 headers 已经有定义的，如果自定义则会覆盖默认定义</div><div class="line"></div><div class="line">对于几个标准的 HTTP 方法，有对应的 shortcut ：</div><div class="line"></div><div class="line">$http.delete(url, config)</div><div class="line">$http.get(url, config)</div><div class="line">$http.head(url, config)</div><div class="line">$http.jsonp(url, config)</div><div class="line">$http.post(url, data, config)</div><div class="line">$http.put(url, data, config)</div><div class="line">注意其中的 JSONP 方法，在实现上会在页面中添加一个 script 标签，然后放出一个 GET 请求。你自己定义的，匿名回调函数，会被 ng 自已给一个全局变量。在定义请求，作为 GET 参数，你可以使用 JSON_CALLBACK 这个字符串来暂时代替回调函数名，之后 ng 会为你替换成真正的函数名：</div><div class="line"></div><div class="line">var p = $http(&#123;</div><div class="line">	method: &apos;JSONP&apos;,</div><div class="line">	url: &apos;/json&apos;,</div><div class="line">	params: &#123;callback: &apos;JSON_CALLBACK&apos;&#125;</div><div class="line">&#125;);</div><div class="line">p.success(function(response, status, headers, config)&#123;</div><div class="line">	console.log(response);</div><div class="line">	$scope.name = response.name;</div><div class="line">&#125;);</div><div class="line"></div><div class="line">$http 有两个属性：</div><div class="line"></div><div class="line">defaults 请求的全局配置</div><div class="line">pendingRequests 当前的请求队列状态</div><div class="line">$http.defaults.transformRequest = function(data)&#123;</div><div class="line">    console.log(&apos;here&apos;); return data;&#125;</div><div class="line"></div><div class="line">console.log($http.pendingRequests);</div><div class="line"></div><div class="line">##  AngularJS 控制器</div><div class="line"></div><div class="line">AngularJS 应用程序被控制器控制，控制器是 JavaScript 对象，由标准的 JavaScript 对象的构造函数 创建。</div><div class="line"></div><div class="line">ng-controller 指令定义了应用程序控制器，给所在的 DOM 元素创建了一个新的 $scope 对象，并将这个 $scope 对象包含进外层 DOM 元素的 $scope 对象里。</div><div class="line"></div><div class="line">示例如下：</div><div class="line"></div><div class="line">&lt;div ng-app=&quot;&quot; ng-controller=&quot;personController&quot;&gt;</div><div class="line">名： &lt;input type=&quot;text&quot; ng-model=&quot;person.firstName&quot;&gt;&lt;br&gt;</div><div class="line">姓： &lt;input type=&quot;text&quot; ng-model=&quot;person.lastName&quot;&gt;&lt;br&gt;</div><div class="line">&lt;br&gt;</div><div class="line">姓名： &#123;&#123;fullName()&#125;&#125;</div><div class="line">&lt;/div&gt;</div><div class="line">&lt;script&gt;</div><div class="line">function personController($scope) &#123;</div><div class="line">	$scope.person = &#123;</div><div class="line">		firstName: &quot;John&quot;,</div><div class="line">		lastName: &quot;Doe&quot;,</div><div class="line">	 &#125;;</div><div class="line">	 $scope.fullName = function() &#123;</div><div class="line">		 var x;</div><div class="line">		 x = $scope.person; </div><div class="line">		 return x.firstName + &quot; &quot; + x.lastName;</div><div class="line">	 &#125;;</div><div class="line">&#125;</div><div class="line">&lt;/script&gt;</div><div class="line">$scope 是一个把 view（一个DOM元素）连结到 controller 上的对象。在我们的 MVC 结构里，这个 $scope 将成为 model，它提供一个绑定到DOM元素（以及其子元素）上的excecution context。</div><div class="line"></div><div class="line">尽管听起来有点复杂，但 $scope 实际上就是一个JavaScript 对象，controller 和 view 都可以访问它，所以我们可以利用它在两者间传递信息。在这个 $scope 对象里，我们既存储数据，又存储将要运行在view上的函数。</div><div class="line"></div><div class="line">每一个 Angular 应用都会有一个 $rootScope。这个 $rootScope 是最顶级的 scope，它对应着含有 ng-app 指令属性的那个 DOM 元素</div><div class="line"></div><div class="line">所有scope都遵循原型继承（prototypal inheritance），这意味着它们都能访问父scope们。</div><div class="line"></div><div class="line">##  AngularJS 模块</div><div class="line"></div><div class="line">AngularJS 本身的一个默认模块叫做 ng ，它提供了 $http ， $q 等等服务。</div><div class="line"></div><div class="line">服务只是模块提供的多种机制中的一种，其它的还有命令（ directive ），过滤器（ filter ），及其它配置信息。</div><div class="line"></div><div class="line">然后在额外的 js 文件中有一个附加的模块叫做 ngResource ， 它提供了一个 $resource 服务。</div><div class="line"></div><div class="line">定义模块</div><div class="line"></div><div class="line">定义模块的方法是使用 angular.module 。调用时声明了对其它模块的依赖，并定义了“初始化”函数。</div><div class="line"></div><div class="line">  var my_module = angular.module(&apos;MyModule&apos;, [], function()&#123;</div><div class="line">      console.log(&apos;here&apos;);</div><div class="line">  &#125;);</div><div class="line">这段代码定义了一个叫做 MyModule 的模块， my_module 这个引用可以在接下来做其它的一些事，比如定义服务。</div><div class="line"></div><div class="line">定义服务</div><div class="line"></div><div class="line">ng的服务是这样定义的：</div><div class="line"></div><div class="line">Angular services are singletons objects or functions that carry out specific tasks common to web apps.</div><div class="line"></div><div class="line">它是一个单例对象或函数，对外提供特定的功能。</div><div class="line">首先是一个单例，即无论这个服务被注入到任何地方，对象始终只有一个实例。</div><div class="line">其次这与我们自己定义一个function然后在其他地方调用不同，因为服务被定义在一个模块中，所以其使用范围是可以被我们管理的。ng的避免全局变量污染意识非常强。</div><div class="line">ng提供了很多内置的服务，可以到API中查看 http://docs.angularjs.org/api/ 。如同指令一样，系统内置的服务以$开头，我们也可以自己定义一个服务。</div><div class="line"></div><div class="line">在这里呢，就要先介绍一下叫 provider 的东西。简单来说， provider 是被 注入控制器 使用的一个对象，注入机制通过调用一个 provider 的 $get() 方法，把得到的东西作为参数进行相关调用（比如把得到的服务作为一个 Controller 的参数）。</div><div class="line"></div><div class="line">在这里 服务 的概念就比较不明确，对使用而言，服务仅指 $get() 方法返回的东西，但是在整体机制上，服务又要指提供了 $get() 方法的整个对象。</div><div class="line"></div><div class="line">  //这是一个provider</div><div class="line">  var pp = function()&#123;</div><div class="line">    this.$get = function()&#123;</div><div class="line">      return &#123;&apos;haha&apos;: &apos;123&apos;&#125;;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  //我在模块的初始化过程当中, 定义了一个叫 PP 的服务</div><div class="line">  var app = angular.module(&apos;Demo&apos;, [], function($provide)&#123;</div><div class="line">    $provide.provider(&apos;PP&apos;, pp);</div><div class="line">  &#125;);</div><div class="line"></div><div class="line">  //PP服务实际上就是 pp 这个 provider 的 $get() 方法返回的东西</div><div class="line">  app.controller(&apos;TestCtrl&apos;,</div><div class="line">    function($scope, PP)&#123;</div><div class="line">      console.log(PP);</div><div class="line">    &#125;</div><div class="line">  );</div><div class="line">ng 还有相关的 shortcut， 第一个是 factory 方法 ，由 $provide 提供， module 的 factory 是一个引用，作用一样。这个方法直接把一个函数当成是一个对象的 $get() 方法，这样你就不用显式地定义一个 provider 了：</div><div class="line"></div><div class="line">var app = angular.module(&apos;Demo&apos;, [], function($provide)&#123;</div><div class="line">    $provide.factory(&apos;PP&apos;, function()&#123;</div><div class="line">        return &#123;&apos;hello&apos;: &apos;123&apos;&#125;;</div><div class="line">    &#125;);</div><div class="line">&#125;);</div><div class="line">app.controller(&apos;TestCtrl&apos;, function($scope, PP)&#123; console.log(PP) &#125;);</div><div class="line">在 module 中使用：</div><div class="line"></div><div class="line">var app = angular.module(&apos;Demo&apos;, [], function()&#123; &#125;);</div><div class="line">app.factory(&apos;PP&apos;, function()&#123;return &#123;&apos;abc&apos;: &apos;123&apos;&#125;&#125;);</div><div class="line">app.controller(&apos;TestCtrl&apos;, function($scope, PP)&#123; console.log(PP) &#125;);</div><div class="line">第二个是 service 方法，也是由 $provide 提供， module 中有对它的同名引用。 service 和 factory 的区别在于，前者是要求提供一个“构造方法”，后者是要求提供 $get() 方法。意思就是，前者一定是得到一个 object ，后者可以是一个数字或字符串。它们的关系大概是：</div><div class="line"></div><div class="line">var app = angular.module(&apos;Demo&apos;, [], function()&#123; &#125;);</div><div class="line">app.service = function(name, constructor)&#123;</div><div class="line">    app.factory(name, function()&#123;</div><div class="line">      return (new constructor());</div><div class="line">    &#125;);</div><div class="line">&#125;</div><div class="line">service 方法的使用就很简单了：</div><div class="line"></div><div class="line">var app = angular.module(&apos;Demo&apos;, [], function()&#123; &#125;);</div><div class="line">app.service(&apos;PP&apos;, function()&#123;</div><div class="line">    this.abc = &apos;123&apos;;</div><div class="line">&#125;);</div><div class="line">app.controller(&apos;TestCtrl&apos;, function($scope, PP)&#123; console.log(PP) &#125;);</div><div class="line">引入模块并使用服务</div><div class="line"></div><div class="line">结合上面的 定义模块 和 定义服务 ，我们可以方便地组织自己的额外代码：</div><div class="line"></div><div class="line">// 定义服务</div><div class="line">angular.module(&apos;MyModule&apos;, [], function($provide)&#123;</div><div class="line">    $provide.factory(&apos;S1&apos;, function()&#123;</div><div class="line">      return &apos;I am S1&apos;;</div><div class="line">    &#125;);</div><div class="line">    $provide.factory(&apos;S2&apos;, function()&#123;</div><div class="line">      return &#123;see: function()&#123;return &apos;I am S2&apos;&#125;&#125;</div><div class="line">    &#125;);</div><div class="line">&#125;);</div><div class="line"></div><div class="line">// 调用服务</div><div class="line">var app = angular.module(&apos;Demo&apos;, [&apos;MyModule&apos;], angular.noop);</div><div class="line">app.controller(&apos;TestCtrl&apos;, function($scope, S1, S2)&#123;</div><div class="line">    console.log(S1)</div><div class="line">    console.log(S2.see())</div><div class="line">&#125;);</div><div class="line">7. 附加模块 ngResource</div><div class="line"></div><div class="line">ngResource 这个是 ng 官方提供的一个附加模块。 附加 的意思就是，如果你打算用它，那么你需要引入一人单独的 js 文件，然后在声明“根模块”时注明依赖的 ngResource 模块，接着就可以使用它提供的 $resource 服务了。</div><div class="line"></div><div class="line">$resource 服务主要是包装了 AJAX 的调用，使用 $resource 需要先定义“资源”，也就是先定义一些 HTTP 请求。</div><div class="line"></div><div class="line">##  AngularJS 路由</div><div class="line"></div><div class="line">ng的路由(ngRoute)是一个单独的模块，包含以下内容：</div><div class="line"></div><div class="line">服务 $routeProvider 用来定义一个路由表，即地址栏与视图模板的映射</div><div class="line">服务 $routeParams 保存了地址栏中的参数，例如 &#123;id : 1, name : &apos;tom&apos;&#125;</div><div class="line">服务 $route 完成路由匹配，并且提供路由相关的属性访问及事件，如访问当前路由对应的 controller</div><div class="line">指令 ngView 用来在主视图中指定加载子视图的区域</div><div class="line">定义路由</div><div class="line"></div><div class="line">第一步：引入文件和依赖</div><div class="line"></div><div class="line">ngRoute 也是一个附件模块，故需要在页面上引入 angular-route.min.js 并在模块中注入对 ngRoute 的依赖，如下：</div><div class="line"></div><div class="line">var app = angular.module(&apos;MyApp&apos;, [&apos;ngRoute&apos;]);</div><div class="line">第二步：定义路由表</div><div class="line"></div><div class="line">$routeProvider 提供了定义路由表的服务，它有两个核心方法： when(path,route) 和 otherwise(params) ，先看一下核心中的核心 when(path,route)方法。</div><div class="line"></div><div class="line">when(path,route) 方法接收两个参数:</div><div class="line"></div><div class="line">path 是一个 string 类型，表示该条路由规则所匹配的路径，它将与地址栏的内容($location.path)值进行匹配。如果需要匹配参数，可以在 path 中使用冒号加名称的方式，如：path为 /show/:name ，如果地址栏是 /show/tom ，那么参数 name 和所对应的值 tom 便会被保存在 $routeParams 中，像这样： &#123;name : tom&#125; 。我们也可以用 * 进行模糊匹配，如： /show*/:name 将匹配 /showInfo/tom 。</div><div class="line">route 参数是一个 object，用来指定当 path 匹配后所需的一系列配置项，包括以下内容：</div><div class="line">controller function 或 string 类型。在当前模板上执行的 controller 函数，生成新的 scope；</div><div class="line">controllerAs string 类型，为 controller 指定别名；</div><div class="line">template string 或 function 类型，视图所用的模板，这部分内容将被 ngView 引用；</div><div class="line">templateUrl string 或 function 类型，当视图模板为单独的 html 文件或是使用了 &lt;script type=&quot;text/ng-template&quot;&gt; 定义模板时使用；</div><div class="line">resolve 指定当前 controller 所依赖的其他模块；</div><div class="line">redirectTo 重定向的地址。</div><div class="line">第三步：在主视图模板中指定加载子视图的位置</div><div class="line"></div><div class="line">只需在模板中简单的使用此 ngView 指令:</div><div class="line"></div><div class="line">&lt;div ng-view&gt;&lt;/div&gt;</div></pre></td></tr></table></figure>
<h2 id="结束"><a href="#结束" class="headerlink" title="结束"></a>结束</h2><hr>

        </div>
      </div>
    </div>
  </div>
</article>



    <!-- Footer -->
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <p class="copyright text-muted">
          Theme By <a target="_blank" href="https://github.com/levblanc">Levblanc.</a>
          Inspired By <a target="_blank" href="https://github.com/klugjo/hexo-theme-clean-blog">Clean Blog.</a>
        <p class="copyright text-muted">
          Powered By <a target="_blank" href="https://hexo.io/">Hexo.</a>
        </p>
      </div>
    </div>
  </div>
</footer>


    <!-- After Footer Scripts -->
<script src="/aliyun/js/highlight.pack.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function(event) {
    var codeBlocks = Array.prototype.slice.call(document.getElementsByTagName('pre'))
    codeBlocks.forEach(function(block, index) {
      hljs.highlightBlock(block);
    });
  });
</script>

  </body>
</html>

